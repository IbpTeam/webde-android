<!DOCTYPE html>
<!--HTML5 doctype-->
<html>

    <head>
        <script>
            (function() {
                if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
                    var msViewportStyle = document.createElement("style");
                    msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));
                    document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
                }
            })();
        </script>

        <title>Hybrid App</title>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link rel="stylesheet" type="text/css" href="css/icons.css" />

        <!--
        <link rel="stylesheet" type="text/css" href="css/af.ui.css" title="default" />
        -->
        <link rel="stylesheet" type="text/css" href="css/main.css"  />
        <link rel="stylesheet" type="text/css" href="css/appframework.css"  />
        <link rel="stylesheet" type="text/css" href="css/lists.css"  />
        <link rel="stylesheet" type="text/css" href="css/forms.css"  />
        <link rel="stylesheet" type="text/css" href="css/buttons.css"  />
        <link rel="stylesheet" type="text/css" href="css/badges.css"  />
        <link rel="stylesheet" type="text/css" href="css/grid.css"  />

        <link rel="stylesheet" type="text/css" href="css/android.css"  />
        <link rel="stylesheet" type="text/css" href="css/win8.css"  />
        <link rel="stylesheet" type="text/css" href="css/bb.css"  />
        <link rel="stylesheet" type="text/css" href="css/ios.css"  />
        <link rel="stylesheet" type="text/css" href="css/ios7.css"  />
        <link rel="stylesheet" type="text/css" href="css/tizen.css"  />
        <link rel="stylesheet" type="text/css" href="css/firefox.css"  />

        <link rel="stylesheet" type="text/css" href="plugins/css/af.actionsheet.css"  />
        <link rel="stylesheet" type="text/css" href="plugins/css/af.popup.css"  />
        <link rel="stylesheet" type="text/css" href="plugins/css/af.scroller.css"  />
        <link rel="stylesheet" type="text/css" href="plugins/css/af.selectBox.css"  />
        
        <link rel="stylesheet" type="text/css" href="custom.css"  />

        <!-- uncomment for intel.xdk apps
        <script type="text/javascript" charset="utf-8" src="intelxdk.js"></script>
        <script type="text/javascript" charset="utf-8" src="xhr.js"></script>
        -->
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" charset="utf-8" src="./appframework.js"></script>
        
        <!-- <script type="text/javascript" charset="utf-8" src="./jquery-2.1.1.js"></script>
        <script type="text/javascript" charset="utf-8" src="./jq.appframework.js"></script> -->
       
        <!-- include af.desktopBrowsers.js on desktop browsers only -->
        <script>
            function loadedPanel(what) {
                //We are going to set the badge as the number of li elements inside the target
                $.ui.updateBadge("#aflink", $("#af").find("li").length);
            }

            function unloadedPanel(what) {
                console.log("unloaded " + what.id);
            }

            if (!((window.DocumentTouch && document instanceof DocumentTouch) || 'ontouchstart' in window)) {
                var script = document.createElement("script");
                script.src = "plugins/af.desktopBrowsers.js";
                var tag = $("head").append(script);
                //$.os.desktop=true;
            }

            //  $.feat.nativeTouchScroll=true;

        </script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.actionsheet.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.css3animate.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.passwordBox.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.scroller.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.selectBox.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.touchEvents.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.touchLayer.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.popup.js"></script>

        <script type="text/javascript" charset="utf-8" src="./ui/appframework.ui.js"></script>
        <!-- <script type="text/javascript" charset="utf-8" src="./ui/transitions/all.js"></script> -->
        <script type="text/javascript" charset="utf-8" src="./ui/transitions/fade.js"></script>
        <script type="text/javascript" charset="utf-8" src="./ui/transitions/flip.js"></script>
        <script type="text/javascript" charset="utf-8" src="./ui/transitions/pop.js"></script>
        <script type="text/javascript" charset="utf-8" src="./ui/transitions/slide.js"></script>
        <script type="text/javascript" charset="utf-8" src="./ui/transitions/slideDown.js"></script>
        <script type="text/javascript" charset="utf-8" src="./ui/transitions/slideUp.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.slidemenu.js"></script>
        <script type="text/javascript" charset="utf-8" src="./plugins/af.8tiles.js"></script>
        <script type="text/javascript" charset="utf-8" src="require.js"></script>
        <script type="text/javascript" charset="utf-8" src="afclass.js"></script>
        <script type="text/javascript" charset="utf-8" src="custom.js"></script>

        <script type="text/javascript">
            /* This function runs once the page is loaded, but intel.xdk is not yet active */
            //$.ui.animateHeaders=false;
            var search = document.location.search.toLowerCase().replace("?", "");
            //if(!search)
            $.ui.useOSThemes = true;
            $.ui.overlayStatusbar = true;
            // for ios7 only to add header padding to overlay the statusbar
            // $.ui.resetScrollers=true;
            if (search.length > 0)//Android fix has too many buggy issues on iOS - can't preview with $.os.android
            {

                $.ui.useOSThemes = true;
                if (search == "win8")
                    $.os.ie = true;
                else if (search == "firefox")
                    $.os.fennec = "true"
                $.ui.ready(function() {
                    $("#afui").get(0).className = search;
                });
            }

            var webRoot = "./";
            // $.os.android=true;
            $.ui.autoLaunch = false;
            $.ui.openLinksNewTab = false;
            $.ui.splitview = false;

            $(document).ready(function() {
                $.ui.launch();
                //$.ui.slideSideMenu=false;
            });

            /* This code is used to run as soon as intel.xdk activates */
            var onDeviceReady = function() {
                $.ui.launch();
                intel.xdk.device.setRotateOrientation("portrait");
                intel.xdk.device.setAutoRotate(false);
                webRoot = intel.xdk.webRoot + "";
                //hide splash screen
                intel.xdk.device.hideSplashScreen();
                $.ui.blockPageScroll();
                //block the page from scrolling at the header/footer
            };
            document.addEventListener("intel.xdk.device.ready", onDeviceReady, false);

            function showHide(obj, objToHide) {
                var el = $("#" + objToHide)[0];

                if (obj.className == "expanded") {
                    obj.className = "collapsed";
                } else {
                    obj.className = "expanded";
                }
                $(el).toggle();

            }

            if ($.os.android || $.os.ie || search == "android") {
                $.ui.ready(function() {
                    $("#main .list").append("<li><a id='toggleAndroidTheme'>Toggle Theme Color</a></li>");
                    var $el = $("#afui");
                    $("#toggleAndroidTheme").bind("click", function(e) {
                        if ($el.hasClass("light"))
                            $el.removeClass("light");
                        else
                            $el.addClass("light");
                    });
                });
            }
        </script>

    </head>

    <body>
        <div id="afui">
            <!-- this is the header div at the top -->
   
            <div id="content">
                <!-- 首页 -->
                <div class="panel" id="home" title="首页" data-tab="navbar_home" >
                </div>

                <!-- 在线服务列表 -->
                <div class="panel" id="nsd" title="在线服务列表" data-tab="navbar_nsd"  data-nav="nav_nsd">
                    <ul class="list">             
                    </ul>
                </div>
                <!-- 聊天界面 -->
                <div class="panel" id="nsd_talk" title="聊天" data-footer='nsd_talk_footer'>
                    <ul>
                        <li>
                            Jack
                        </li>
                        <li>
                            Lucy
                        </li>
                        <li>
                            John
                        </li>
                        <li>
                            Larry
                        </li>
                    </ul>
                    <footer id="nsd_talk_footer">
                        <textarea rows="1" style="width:80%;" placeholder="enter what you want to say."></textarea>
                        <a class="button" style="float:right">发送</a>
                    </footer>
                </div>
                

                <!-- 设备接口 -->
                <div class="panel" id="device" title="设备接口" data-tab="navbar_device" >
                    <h3>Hybrid App Development</h3>
                    <p>本地接口测试</p>
                    <ul class="list">
                        <li><a href="#device_timer">Timer</a></li>
                        <li><a href="#device_nsd">Nsdchat</a></li>
                        <li><a href="#device_camera">Camera</a></li>
                    </ul>
                </div>
                <div class="panel" id="device_timer" title="Timer" data-footer="none" data-nav='nav_timer'>
                </div>
                <div class="panel" id="device_nsd" title="Nsdchat" data-footer="none" data-nav="nav_nsd">
                </div>
                <div class="panel" id="device_camera" title="Camera" data-footer="none" data-nav="nav_camera">
                </div>                
    
                <div class="panel" id="theme_setting" title="主题设置" data-tab="none">
                    <h2>Web UI</h2>
                    <p>选择不同的界面风格</p>
                    <ul class="list inset">
                        <li class="divider">修改界面风格</li>
                        <li>
                            <a href="app.html?default" data-ignore="true">Default</a>
                        </li>
                        <li>
                            <a href="app.html" data-ignore="true">AutoDetected theme</a>
                        </li>
                        <li>
                            <a href="app.html?ios" data-ignore="true">iOS theme</a>
                        </li>
                        <li>
                            <a href="app.html?ios7" data-ignore="true">ios7</a>
                        </li>
                        <li>
                            <a href="app.html?android" data-ignore="true">Android theme</a>
                        </li>
                        <li>
                            <a href="app.html?win8" data-ignore="true">Win8 theme</a>
                        </li>
                        <li>
                            <a href="app.html?bb" data-ignore="true">BB10 theme</a>
                        </li>
                        <li>
                            <a href="app.html?tizen" data-ignore="true">tizen</a>
                        </li>
                        <li>
                            <a href="app.html?firefox" data-ignore="true">firefox</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- bottom navbar. Add additional tabs here -->
            <div id="navbar">
                <div class="horzRule"></div>
                <a id="navbar_home" href="#home" class="icon home">首页</a>
                <a id="navbar_nsd" href="#nsd" class="icon user">发现服务</a>
                <a id="navbar_device" href="#device" class="icon camera mini">设备接口</a>
            </div>
            <!-- nav main -->
            <nav title="Left Menu">
                <ul class="list">
                    <li class="divider">
                        Global
                    </li>
                    <li>
                        <a href="#theme_setting">Theme Setting</a>
                    </li>
                    <li class="divider">
                        Menus
                    </li>
                    <li>
                        <a onclick="$.ui.toggleHeaderMenu();">Toggle Header</a>
                    </li>
                    <li>
                        <a onclick="$.ui.toggleSideMenu()">Toggle Side</a>
                    </li>
                    <li>
                        <a onclick="$.ui.toggleNavMenu()">Toggle Footer</a>
                    </li>
    
                    <li class="divider">
                        Page Jump
                    </li>
                    <li>
                        <a href="app.html?default" data-ignore="true">Go to app.html</a>
                    </li>
                    <li>
                        <a href="index.html?default" data-ignore="true">Go to index.html</a>
                    </li>
                    <li>
                        <a href="debug.html?default" data-ignore="true">Go to debug.html</a>
                    </li>
                </ul>
            </nav>
            <nav id="nav_timer">
                <div class='title'>
                    <h3>需要安装插件ibp.plugin.timer</h3>
                </div>
                <ul>
                    <li>
                        <a class="button icon check" onclick="AfTimer.startTimer();">startTimer</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="AfTimer.stopTimer();">stopTimer</a>
                    </li>
                </ul>
            </nav>
            <nav id="nav_nsd">
                <div class='title'>
                    <h3>需要安装插件ibp.plugin.nsd</h3>
                </div>
                <ul>
                    <li>
                        <a class="button icon check" onclick="NsdModule.initNsd();">initNsd</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.stopNsd();">stopNsd</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.startDiscovery();">startDiscovery</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.showDeviceList();">showDeviceList</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.stopDiscovery();">stopDiscovery</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.registerService();">registerService</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.unRegisterService();">unRegisterService</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.scrollToBottom();">scrollToBottom</a>
                    </li>
                    <li>
                        <a class="button icon check" onclick="NsdModule.clearContent();">clearContent</a>
                    </li>
                </ul>
            </nav>
            <nav id="nav_camera">
                <div class='title'>
                    <h3>需要安装插件org.apache.cordova.camera</h3>
                </div>
                <ul>
                    <li>
                        <a class="button icon camera" onclick="AfCamera.startCamera();">Camera</a>
                    </li>
                    <li>
                        <a class="button icon picture" onclick="AfCamera.cameraGallery();" class="buttonStyle">Gallery</a><br/>
                    </li>
                </ul>
            </nav>
            
        </div>
    </body>
</html>